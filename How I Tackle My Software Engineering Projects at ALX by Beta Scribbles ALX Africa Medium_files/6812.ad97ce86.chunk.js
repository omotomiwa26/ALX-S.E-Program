(self.webpackChunklite=self.webpackChunklite||[]).push([[6812],{85282:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var r=i.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM6.77 10.46a.62.62 0 1 1-1.23 0V5.54a.62.62 0 0 1 1.23 0v4.92zm3.7 0a.62.62 0 1 1-1.24 0V5.54a.62.62 0 0 1 1.23 0v4.92z",fill:"#292929"});const l=function(e){return i.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),r)}},78319:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var r=i.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm2.8 8.51l-3.69 2.46a.62.62 0 0 1-.96-.5V5.53a.62.62 0 0 1 .96-.51l3.7 2.46a.62.62 0 0 1 0 1.02z",fill:"#292929"});const l=function(e){return i.createElement("svg",a({width:16,height:16,viewBox:"0 0 16 16",fill:"none"},e),r)}},41190:(e,n,t)=>{"use strict";t.d(n,{C:()=>f,F:()=>p});var i=t(319),a=t.n(i),r=t(22412),l=t(62549),o=t(82864),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderInfos_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat(a()(l.t.definitions),a()(o.W.definitions))},c=t(93403),d=t(15855),m=t(51277),u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SharePostButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(a()(c.z.definitions),a()(d.E.definitions),a()(m.v.definitions))},V=t(56785),p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CreatorHeader_user"}}]}}].concat(a()(r.p.definitions))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBylineHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderInfos_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeaderActionsButtons_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}}]}}].concat(a()(s.definitions),a()(u.definitions),a()(V.V.definitions))}},87079:(e,n,t)=>{"use strict";t.d(n,{O:()=>ee});var i=t(67294),a=t(46510),r=t(73776),l=t(91743),o=t(1444),s=t(75399),c=t(77355),d=t(30020),m=t(66411),u=function(e){var n=e.post,t=e.source;return i.createElement(i.Fragment,null,i.createElement(s.U,{post:n,source:t,useSubtleShareButtons:!0,spacing:"4px"}),i.createElement(c.x,{margin:"0 16px 0 28px",display:"flex",alignItems:"center"},i.createElement(m.cW,{source:{name:t}},i.createElement(o.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_SUBTLE"}))),i.createElement(d._,{tooltipText:"More",targetDistance:10},i.createElement(l.t,{post:n,iconStyle:"ICON_SUBTLE"})))},V=function(e){var n=e.post,t=e.source;return i.createElement(c.x,{paddingTop:"24px",display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"}},i.createElement(c.x,{marginRight:"16px"},i.createElement(m.cW,{source:{name:t}},i.createElement(o.o,{post:n,susiEntry:"bookmark_header",buttonStyle:"ICON_TEXT"}))),i.createElement(s.U,{post:n,source:t,useSubtleShareButtons:!0,spacing:"12px"}),i.createElement(c.x,{marginLeft:"12px"},i.createElement(d._,{tooltipText:"More",targetDistance:10},i.createElement(l.t,{post:n,iconStyle:"ICON_SUBTLE"}))))},p=t(35989),f=t(63459),v=t(18704),g=t(34796),k=t(64718),E=t(63038),h=t.n(E),y=t(68356),x=t.n(y),S=t(10374),A=t(25735),b=t(6443),N=t(96370),w=t(47230),I=t(87691),_=t(18627),F=t(14646),C=t(50742),P=t(85282),T=t(17417),B=t(77280),D=t(78319),R=t(68894),M=function(e){return{padding:"0",cursor:"pointer",border:"none",display:"flex",alignItems:"center",":hover > p":{color:e.accentColor.text.dark},":hover > svg > path":{fill:e.accentColor.fill.dark}}},L=function(e){return{marginRight:"3px",marginBottom:"-1px",padding:"1px","> path":{fill:e.accentColor.fill.normal}}},O=function(e){var n=e.onClick,t=(0,F.I)();return i.createElement(w.z,{onClick:n,className:t(M)},i.createElement(D.Z,{className:t(L)}),i.createElement(I.F,{scale:"M",color:"ACCENT"},"Listen"))},U=function(e){var n=e.onClick,t=(0,B.PM)(),a=(0,m.P7)(t||"").susiEntry,r=(0,R.O)("post_audio_button"===a),l=h()(r,3),o=l[0],s=l[2];return i.createElement(T.A,{isVisible:o,message:"You can now listen to stories",dismissText:"Got it",dismiss:s,targetDistance:10},i.createElement(O,{onClick:n}))},H=t(26350),z=t(43822),W=t(92661),j=t(78870),G=function(e){var n=e.postId,t=(0,b.H)().value,a="post_audio_button",r=(0,j.Rk)((0,W.qt)("ShowPay",{}),{susiEntry:a,postId:n});return t?i.createElement(z.a,{redirectUrl:r},i.createElement(O,null)):i.createElement(H.R,{operation:"register",susiEntry:a,actionUrl:r},i.createElement(O,null))},Q=x()({loader:function(){return t.e(6391).then(t.bind(t,82249))},modules:["src/components/post/text-to-speech/SpeechifyWidget"],webpack:function(){return[82249]},loading:function(e){var n=e.children;return i.createElement(i.Fragment,null,n)},render:(0,C.n)("SpeechifyWidget")}),Y=i.forwardRef((function(e,n){var t=e.postId,a=e.postBodyRef,r=e.isLockedPreviewOnly,l=(0,F.I)(),o=(0,_.Av)(),s=(0,b.H)().value,d=(0,A.VB)({name:"enable_members_only_audio",placeholder:!1}),m=!(null==s||!s.mediumMemberAt),u=(0,S.Ij)().paragraphRefsMappers.paragraphTitlesRefsByStyleMap,V=(0,i.useState)(!0),p=h()(V,2),f=p[0],v=p[1];i.useEffect((function(){return o.event("experiment.eligible",{experimentId:"ec7b685b3f40"}),v(!0)}),[u]);var g=!m&&(r||d);return i.createElement(c.x,{display:"inline-flex",alignItems:"center",boxSizing:"border-box"},i.createElement(c.x,{flexGrow:"1"},i.createElement(N.P,{size:"full"},i.createElement(c.x,{ref:n,display:"flex"},g?d?i.createElement(G,{postId:t}):null:f?i.createElement(U,{onClick:function(){if(f){var e=new Audio;e.autoplay=!0,e.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",v(!1)}}}):i.createElement(Q,{postId:t,buttonStyle:M,audioIconStyle:L,postBodyRef:a},i.createElement(w.z,{className:l(M)},i.createElement(P.Z,{className:l(L)}),i.createElement(I.F,{scale:"M",color:"ACCENT"},"0:00")))))))})),Z=t(73279),K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaybeTextToSpeechQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}}]}}]}}]},$=function(){return i.createElement(c.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},i.createElement(Z.O,null))},X=function(e){var n,t,a,r,l=e.postId,o=e.postBodyRef,s=e.isLockedPreviewOnly,c=e.isPublished,d=(0,k.a)(K,{variables:{postId:l}}),m=d.data,u=d.error,V=d.loading;if(!l||V||u)return null;var p=null!==(n=null==m||null===(t=m.post)||void 0===t?void 0:t.wordCount)&&void 0!==n?n:0,f=null!==(a=null==m||null===(r=m.post)||void 0===r?void 0:r.detectedLanguage)&&void 0!==a?a:"";return!c||c&&"en"===f&&p>20?i.createElement(i.Fragment,null,i.createElement($,null),i.createElement(Y,{postId:l,postBodyRef:o,isLockedPreviewOnly:s})):null},q=function(){return i.createElement(c.x,{display:"inline-block",padding:"0 8px",ariaHidden:"true"},i.createElement(Z.O,null))},J=function(e){var n=e.showStar,t=e.post,a=e.postBodyRef,r=e.isLockedPreviewOnly,l=t.firstPublishedAt,o=t.readingTime,s=(0,A.VB)({name:"enable_speechify_widget",placeholder:!1});return i.createElement(i.Fragment,null,Boolean(l)&&i.createElement(i.Fragment,null,i.createElement(I.F,{scale:"M",playwrightClassName:"pw-published-date"},i.createElement(f.E,{timestamp:l})),i.createElement(q,null)),i.createElement(v.N,{scale:"M",tag:"div",readingTime:o}),n&&i.createElement(i.Fragment,null,i.createElement(q,null),i.createElement(p.U,{post:t})),!l&&i.createElement(i.Fragment,null,i.createElement(q,null),i.createElement(I.F,{color:"DARKER",scale:"M"},i.createElement(g.FV,{post:t}))),s&&i.createElement(i.Fragment,null,i.createElement(X,{postId:t.id,postBodyRef:a,isLockedPreviewOnly:r,isPublished:!!l})))},ee=function(e){var n=e.post,t=e.creator,l=e.postBodyRef,o=e.isLockedPreviewOnly,s=void 0!==o&&o,c=e.showInResponseToEntityPreview,d=void 0!==c&&c,m=e.showStar,p=void 0!==m&&m,f=e.viewerId,v=e.playwrightClassName;if(!t)return null;var g="post_actions_header";return i.createElement(a.c,{creator:t,viewerId:f,playwrightClassName:v,entityInfos:i.createElement(J,{post:n,showStar:p,postBodyRef:l,isLockedPreviewOnly:s}),desktopActionsButtons:i.createElement(u,{post:n,source:g}),mobileActionsButtons:i.createElement(V,{post:n,source:g}),responseToEntityPreview:d&&i.createElement(r.h,{padding:"24px 0 0",post:n,postPreviewMarginBottom:40})})}},69973:(e,n,t)=>{"use strict";t.d(n,{P:()=>s,Q:()=>c});var i=t(319),a=t.n(i),r=t(84683),l=t(81712),o=t(17828),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(r.d.definitions),a()(l.f.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCollectionHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}}]}}].concat(a()(o.w.definitions))}},22836:(e,n,t)=>{"use strict";t.d(n,{l:()=>p});var i=t(67294),a=t(68427),r=t(71652),l=t(96370),o=t(77355),s=t(93310),c=t(21755),d=t(87691),m=t(17583),u=t(58992),V=function(e){var n=e.children;return(0,m.s)()===c.j.xl?i.createElement(l.P,{size:"app"},i.createElement(o.x,{borderBottom:"BASE_LIGHTER"},n)):i.createElement(o.x,{borderBottom:"BASE_LIGHTER"},i.createElement(l.P,{size:"app"},n))},p=function(e){var n=e.collection,t=e.post,l=n.name,c=(0,a.R)(n);return(0,u.l)(t)?i.createElement(V,null,i.createElement(o.x,{display:"flex",alignItems:"center",height:"56px"},i.createElement(o.x,{marginRight:"16px"},i.createElement(s.r,{href:c},i.createElement(r.v,{collection:n,size:32,circular:!0}))),i.createElement(o.x,{marginRight:"3px",flexShrink:"0"},i.createElement(d.F,{scale:"M",color:"LIGHTER",tag:"div"},"Published in")),i.createElement(s.r,{href:c},i.createElement(d.F,{scale:"M",color:"DARKER",clamp:1},l)))):null}},22412:(e,n,t)=>{"use strict";t.d(n,{p:()=>m});var i=t(319),a=t.n(i),r=t(68216),l=t(18821),o=t(54341),s=t(93961),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorNameTooltip_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowLink_publisher"}}]}}].concat(a()(l.H.definitions),a()(o.O.definitions),a()(r.$m.definitions),a()(s.u.definitions))},d=t(27048),m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CreatorHeader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorNameTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(a()(r.$m.definitions),a()(c.definitions),a()(d.W.definitions))}},46510:(e,n,t)=>{"use strict";t.d(n,{c:()=>f});var i=t(67294),a=t(84739),r=t(55155),l=t(28695),o=t(77355),s=t(26244),c=t(93310),d=t(87691),m=t(33058),u=t(64238),V=function(e){var n=e.creator,t=e.viewerId,V=(0,a.B)(n),p=(0,u.o)(n);return i.createElement(d.F,{tag:"div",scale:"L",color:"DARKER",playwrightClassName:"pw-author"},i.createElement(o.x,{display:"flex",flexDirection:"row",marginBottom:"4px",alignItems:"center"},i.createElement(s.$,{targetDistance:15,mouseLeaveDelay:100,placement:"top",role:"tooltip",popoverRenderFn:function(){return i.createElement(l.K,{user:n})}},i.createElement(c.r,{href:V},n.name)),p&&i.createElement(m.G,{marginLeft:"2px",marginTop:"1px",size:"S",userId:n.id}),n.id!==t&&i.createElement(o.x,{display:{xs:"inline-block",sm:"inline-block",md:"inline-block",lg:"none",xl:"none"},paddingLeft:"12px"},i.createElement(r.D,{publisher:n,buttonSize:"COMPACT",susiEntry:"follow_byline"}))))},p=t(17193),f=function(e){var n=e.creator,t=e.playwrightClassName,r=e.entityInfos,l=e.viewerId,s=e.desktopActionsButtons,d=e.mobileActionsButtons,m=e.responseToEntityPreview,u=e.headerRef,f=e.marginBottom,v=void 0===f?{xs:"24px",sm:"24px",md:"24px",lg:"24px",xl:"32px"}:f,g=(0,a.B)(n);return i.createElement(o.x,{ref:u,marginTop:{xs:"32px",sm:"32px",md:"32px",lg:"32px",xl:"56px"},marginBottom:v,tag:"header",playwrightClassName:t},i.createElement(o.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},i.createElement(o.x,{display:"flex"},i.createElement(o.x,{marginRight:"16px"},i.createElement(c.r,{href:g},i.createElement(p.Yt,{scale:"M",user:n}))),i.createElement(o.x,null,i.createElement(V,{creator:n,viewerId:l}),i.createElement(o.x,{display:"flex",alignItems:"center",flexWrap:"wrap"},r))),i.createElement(o.x,{display:"flex",alignItems:"center"},i.createElement(o.x,{display:{xs:"none",sm:"none",md:"inline-flex",lg:"inline-flex",xl:"inline-flex"}},s))),d,m)}},93961:(e,n,t)=>{"use strict";t.d(n,{u:()=>l});var i=t(319),a=t.n(i),r=t(81712),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowLink_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowButton_publisher"}}]}}].concat(a()(r.f.definitions))}},34492:(e,n,t)=>{"use strict";t.d(n,{I:()=>V});var i,a=t(59713),r=t.n(a),l=t(67294);!function(e){e.S="S",e.L="L"}(i||(i={}));var o=t(77355),s=t(9935),c=t(87691),d=t(14646),m=t(97489),u=t(14804),V=function(e){var n=e.children,t=e.scale,a=void 0===t?i.L:t,V=e.alpha,p=void 0===V?.05:V,f=e.verticalMargins,v=void 0===f?{normal:"24px",small:"24px"}:f,g=e.horizontalMargins,k=void 0===g?{normal:"-16px",small:"-12px 0"}:g,E=e.dismissable,h=e.onClick,y=e.maxWidth,x=void 0===y?"740px":y,S=(0,d.I)();return l.createElement("div",{className:S((function(e){return r()({background:(0,u.Uy)(p),borderRadius:"4px",margin:"".concat(v.small," ").concat(k.small),position:"relative"},m.xl(e),{margin:"".concat(v.normal," ").concat(k.normal)})}))},l.createElement(o.x,{display:"flex",justifyContent:"space-between",maxWidth:x,padding:"16px",sm:{padding:"12px"}},l.createElement(c.F,{scale:a,color:"DARKER"},n),E&&h&&l.createElement(s.P,{onClick:h,size:"REGULAR",isPositionAbsolute:!1,compensateInnerPadding:!0,"data-testid":"close-button"})))}},99272:(e,n,t)=>{"use strict";t.d(n,{m:()=>te});var i=t(67294),a=t(50008),r=t.n(a),l=t(63038),o=t.n(l),s=t(27517),c=t(28655),d=t.n(c),m=t(92471),u=t(23450),V=t.n(u),p=t(34492),f=t(77355),v=function(e){var n=e.link,t=e.text,a=e.verticalMargins;return i.createElement(p.I,{verticalMargins:a},t," ",i.createElement(f.x,{display:"inline",whiteSpace:"nowrap"},n))},g=t(36405),k=t(6443),E=t(28451),h=t(43822),y=t(18627),x=t(66411),S=t(90924),A=t(43487),b=t(50458);function N(){var e=d()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return N=function(){return e},e}var w=function(e){var n=e.meterCount,t=e.meterLimit,a=e.post,r=(0,k.H)().value,l=(0,y.Av)(),o=null==r?void 0:r.isMembershipTrialEligible,s=!(!(0,g.P5)("enable_trial_upsell")||!o);i.useEffect((function(){l.event("meter.viewed",{uiType:E.j.LIHighlightCTA,postId:a.id,meterCount:n}),o&&l.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var c,d=(0,A.v9)((function(e){return e.config.authDomain})),m=i.createElement(S.M,{tag:"span"},i.createElement(h.a,{linkStyle:"OBVIOUS",post:a,inline:!0,redirectUrl:(0,b.c5p)(d)},s?"Start your free trial":"Upgrade for unlimited access."));return i.createElement(x.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:a.id}},i.createElement(v,{text:(c=t-n,c<=0?i.createElement(i.Fragment,null,"This is your ",i.createElement("b",null,"last")," free member-only story this month."):i.createElement(i.Fragment,null,"You have ",i.createElement("b",null,c)," free member-only ",V()("story",c)," left this month.")),link:m}))},I=((0,m.Ps)(N(),h.H),t(26350)),_=function(e){switch(e){case 0:return i.createElement(i.Fragment,null,"This is your ",i.createElement("b",null,"last")," free member-only story this month.");case 1:case 2:return i.createElement(i.Fragment,null,"You have ",i.createElement("b",null,e)," free member-only stor",1===e?"y":"ies"," left this month.");default:return i.createElement(i.Fragment,null,"You've read all your free member-only stories this month.")}},F=function(e){var n=e.post,t=e.meteringInfo,a=t.postIds?t.postIds.length:0,r=null===t.unlocksRemaining?0:t.unlocksRemaining,l=(0,A.v9)((function(e){return e.config.productName})),o=function(e){switch(e){case 0:return"metered_view_3";case 1:return"metered_view_2";case 2:default:return"smart_meter"}}(r),s=(0,y.Av)();i.useEffect((function(){s.event("meter.viewed",{uiType:E.j.LOHighlightCTA,postId:n.id,meterCount:a})}),[]);var c=i.createElement(I.R,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:o},"Sign up for ".concat(l," and get an extra one"));return i.createElement(x.cW,{source:{postId:n.id}},i.createElement(v,{text:_(r),link:c,verticalMargins:{normal:"24px",small:"16px"}}))},C=t(25735),P=t(14646),T=t(80872),B=t(54712),D=t(98067),R=t(87498),M=function(e){var n=e.meteringInfo,t=e.post,a=e.viewer,r=n.maxUnlockCount||3,l=n.postIds.length;return l<=r?(0,T.sy)()&&function(e){return e&&e.createdAt+R.pU>Date.now()}(a)?((0,T.Of)(),null):i.createElement(w,{meterCount:l,post:t,meterLimit:r}):null},L=function(e){var n=e.post,t=e.meteringInfo,a=!!(0,C.VB)({name:"enable_dismissible_regwall",placeholder:!1});switch(t.unlocksRemaining){case 0:case 1:return a?null:i.createElement(F,{post:n,meteringInfo:t});case 2:return i.createElement(F,{post:n,meteringInfo:t});default:return null}},O=function(e){var n=e.meteringInfo,t=e.post,a=(0,s.I0)(),l=(0,P.I)(),c=(0,B.xg)(),d=i.useState(!1),m=o()(d,2),u=m[0],V=m[1];i.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":r()(document))&&V(!0),a((0,D.Dl)(!1))}),[]);var p=(0,k.H)(),f=p.loading,v=p.error,g=p.value;if(f||v)return i.createElement(i.Fragment,null);var E=g&&g.mediumMemberAt||void 0,h=t&&t.creator&&t.creator.id||void 0,y=g&&g.id||void 0,x=g?E||h===y:"LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,S=!u||!t.isLocked||!n.postIds.includes(t.id)||x,A=u&&!S,b={height:A?"100%":"0px",overflow:A?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},N=g?i.createElement(M,{meteringInfo:n,post:t,viewer:g}):i.createElement(L,{post:t,meteringInfo:n});return i.createElement("div",{className:c?l(b):void 0},!S&&N)},U=t(93310);function H(){var e=d()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return H=function(){return e},e}(0,m.Ps)(H());var z=function(e){var n=e.collection,t=(0,A.v9)((function(e){return e.config.authDomain})),a=n.newsletterV3||{id:"",slug:"",name:""},r=(0,b.iBn)(a.slug,t,n),l=function(){return i.createElement(U.r,{inline:!0,linkStyle:"OBVIOUS",href:r},a.name)};return i.createElement(i.Fragment,null,i.createElement(p.I,null,n.newsletterV3?i.createElement(i.Fragment,null,"This is an email from ",i.createElement(l,null),", a newsletter by ",n.name,"."):i.createElement(i.Fragment,null,"This is an email from ",n.name,".")))},W=t(38460),j=t(5977),G=t(9935),Q=t(87691),Y=t(68894),Z=function(e){var n=e.children,t=e.onHide,a=(0,Y.O)(!0),r=o()(a,3),l=r[0],s=r[2],c=i.useCallback((function(){s(),null==t||t()}),[t]);return l?i.createElement(f.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},i.createElement(Q.F,{scale:"L",color:"DARKER"},n),i.createElement(G.P,{onClick:c,isPositionAbsolute:!1,size:"REGULAR"})):null},K=t(77280),$=t(39202);function X(){var e=d()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return X=function(){return e},e}function q(){var e=d()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return q=function(){return e},e}var J=function(e){var n,t,a,r,l,s=e.post,c=(0,A.v9)((function(e){return e.navigation.referrer})),d=(0,j.TH)().hash,m=(0,K.G1)(),u=(0,K.PM)(),V=(0,W.t)(ee,{variables:{postId:null==s?void 0:s.id,postMeteringOptions:{referrer:c,sk:m,source:u}},ssr:!1}),p=o()(V,2),v=p[0],g=p[1],k=g.called,E=g.loading,h=g.error,y=g.data,x=null==d||null===(n=d.replace("#",""))||void 0===n?void 0:n.split("-"),S=o()(x,2),b=S[0],N=S[1],w=(null!=y?y:{}).post,I=null==w||null===(t=w.privateNotes)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.id)===N})),_=null!==(a=null==w||null===(r=w.content)||void 0===r||null===(l=r.bodyModel)||void 0===l?void 0:l.paragraphs)&&void 0!==a?a:[],F=new Set(_.map((function(e){return e.name})).filter($.b)),C=!!I&&F.has(b),P=(0,Y.O)(!!N&&!C),T=o()(P,3),B=T[0],D=T[1],R=T[2];return i.useEffect((function(){N&&!C?D():R()}),[C]),!k&&N&&v(),E||h||!B?null:i.createElement(f.x,{marginTop:"64px"},i.createElement(Z,{onHide:R},"The note you're looking for was deleted"))},ee=((0,m.Ps)(q()),(0,m.Ps)(X())),ne=t(52278),te=function(e){var n=e.meteringInfo,t=e.post;return i.createElement(ne.M,{columns:8,gutter:!1,padding:{xs:"0 8px",sm:"0 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"},tag:"div"},i.createElement(J,{post:t}),t.isNewsletter&&!!t.collection&&i.createElement(z,{collection:t.collection}),!!t.isLocked&&!!n&&i.createElement(O,{meteringInfo:n,post:t}))}},55155:(e,n,t)=>{"use strict";t.d(n,{D:()=>m,f:()=>u});var i=t(28655),a=t.n(i),r=t(92471),l=t(67294),o=t(82405),s=t(19308),c=t(32317);function d(){var e=a()(["\n  fragment PublisherFollowButton_publisher on Publisher {\n    __typename\n    ... on Collection {\n      ...CollectionFollowButton_collection\n    }\n    ... on User {\n      ...UserFollowButton_user\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var m=function(e){var n=e.publisher,t=e.buttonSize,i=e.isLinkStyle,a=void 0!==i&&i,r=e.susiEntry,s=e.width;return"Collection"===n.__typename?l.createElement(o.F,{buttonSize:t,collection:n,susiEntry:r}):l.createElement(c.Bv,{buttonSize:t,user:n,isLinkStyle:a,susiEntry:r,width:s})},u=(0,r.Ps)(d(),s.I,c.sj)},54878:(e,n,t)=>{"use strict";t.d(n,{v$:()=>u,G8:()=>V,Ps:()=>p,Kc:()=>f});var i=t(28655),a=t.n(i),r=t(92471),l=t(67294),o=t(31889),s=t(98096),c=t(3207);function d(){var e=a()(["\n  fragment CustomThemeProvider_customStyleSheet on CustomStyleSheet {\n    id\n    ...customDefaultBackgroundTheme_customStyleSheet\n    ...customStyleSheetFontTheme_customStyleSheet\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}function m(){var e=a()(["\n  fragment CustomThemeProvider_publisher on Publisher {\n    id\n    __typename\n    ... on Collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var u=function(e,n){var t=(0,o.F)(),i="Collection"===(null==n?void 0:n.__typename)?null==n?void 0:n.colorPalette:null;return(0,c.ZI)(e,(0,c.zI)(e,t,i))},V=function(e){var n=e.customStyleSheet,t=e.publisher,i=e.children,a=u(n,t);return l.createElement(s.f,{theme:a},i)},p=(0,r.Ps)(m(),c.L9),f=(0,r.Ps)(d(),c.Ui,c.VE)},28451:(e,n,t)=>{"use strict";var i;t.d(n,{j:()=>i}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(i||(i={}))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6812.ad97ce86.chunk.js.map